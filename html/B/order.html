<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <!-- 1、如果支持Google Chrome Frame：GCF，则使用GCF渲染；2、如果系统安装ie8或以上版本，则使用最高版本ie渲染；3、否则，这个设定可以忽略。 -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <!-- 对视窗缩放等级进行限制，使其适应移动端屏幕大小 -->
    <meta name="viewport" content="width=device-width">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- 当把这个网页添加到主屏幕时的标题（仅限IOS） -->
    <meta name="apple-mobile-web-app-title" content="触电-itouchtv">
    <!-- 添加到主屏幕后全屏显示 -->
    <meta name="apple-touch-fullscreen" content="yes" />
    <!--去除safari中number下划线-->
    <meta name="format-detection" content="telephone=no" />

    <link rel="stylesheet" href="../../lib/swiper/swiper.min.css" />
    <link rel="stylesheet" href="../../css/global.css" />
    <link rel="stylesheet" href="../../css/B/order.css" />

    <title>待付清单</title>

    <script>
        initScreen();
        window.onresize = function() {
            initScreen();
        }

        function defaultfont() {
            var sw = document.documentElement.clientWidth;
            var pw = 750;
            sw = sw > 750 ? 750 : sw < 320 ? 320 : sw;
            var f = 100 * sw / pw;
            document.documentElement.style.fontSize = f + 'px';
        }

        function initScreen() {
            defaultfont();
            setTimeout(function() {
                defaultfont();
            }, 100);
        }
    </script>
</head>

<body>
    <div class="container">
        <div class="goods-msg-area">
            <div class="goods-msg">
                <a data="0" class="select-item"></a>
                <img class="goods-img" src="../../images/17.png" />
                <div class="goods-msg-content">
                    <p>宝得适britax百变骑士汽车儿童安全座椅isofix9个月-12岁英国进...</p>
                    <div class="goods-type">
                        <p class="goods-type-list">
                            <span>黄色</span>
                            <span>2.8米</span>
                        </p>
                        <p>
                            <span class="goods-price">1890</span>
                            <span>积分</span>
                        </p>
                    </div>

                    <div class="select-num-content">
                        <span class="reduce">-</span>
                        <input class="select-goods-num" type="text" value="1" />
                        <span class="add">+</span>
                    </div>
                </div>
            </div>
            <div class="goods-msg">
                <a data="0" class="select-item"></a>
                <img class="goods-img" src="../../images/17.png" />
                <div class="goods-msg-content">
                    <p>宝得适britax百变骑士汽车儿童安全座椅isofix9个月-12岁英国进...</p>
                    <div class="goods-type">
                        <p class="goods-type-list">
                            <span>黄色</span>
                            <span>2.8米</span>
                        </p>
                        <p>
                            <span class="goods-price">1890</span>
                            <span>积分</span>
                        </p>
                    </div>

                    <div class="select-num-content">
                        <span class="reduce">-</span>
                        <input class="select-goods-num" type="text" value="1" />
                        <span class="add">+</span>
                    </div>
                </div>
            </div>
            <div class="goods-msg">
                <a data="0" class="select-item"></a>
                <img class="goods-img" src="../../images/17.png" />
                <div class="goods-msg-content">
                    <p>宝得适britax百变骑士汽车儿童安全座椅isofix9个月-12岁英国进...</p>
                    <div class="goods-type">
                        <p class="goods-type-list">
                            <span>黄色</span>
                            <span>2.8米</span>
                        </p>
                        <p>
                            <span class="goods-price">1890</span>
                            <span>积分</span>
                        </p>
                    </div>

                    <div class="select-num-content">
                        <span class="reduce">-</span>
                        <input class="select-goods-num" type="text" value="1" />
                        <span class="add">+</span>
                    </div>
                </div>
            </div>
            <div class="goods-msg">
                <a data="0" class="select-item"></a>
                <img class="goods-img" src="../../images/17.png" />
                <div class="goods-msg-content">
                    <p>宝得适britax百变骑士汽车儿童安全座椅isofix9个月-12岁英国进...</p>
                    <div class="goods-type">
                        <p class="goods-type-list">
                            <span>黄色</span>
                            <span>2.8米</span>
                        </p>
                        <p>
                            <span class="goods-price">1890</span>
                            <span>积分</span>
                        </p>
                    </div>

                    <div class="select-num-content">
                        <span class="reduce">-</span>
                        <input class="select-goods-num" type="text" value="1" />
                        <span class="add">+</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="pay-footer">
            <div class="select-all">
                <a data="0" class="select-all-btn"></a>
                <span>全选</span>
            </div>
            <div class="bill-price-area">
                <p class="bill-price">
                    <span>总计：</span>
                    <span class="price-num">3998</span>
                </p>
                <p class="left-money">
                    <span>余额：</span>
                    <span>5000</span>
                </p>
            </div>
            <a class="pay-btn">结算</a>
        </div>

    </div>

    <script src=" ../../lib/zepto/zepto.min.js "></script>

    <script>
        // 选择/取消选择某个商品
        $('.select-item').click(function() {
            if ($(this).attr('data') == 0) {
                $(this).closest('.goods-msg').addClass('select-item-selected');
                $(this).attr('data', 1);

                if ($('.select-item-selected').length == $('.goods-msg').length) {
                    $('.select-all-btn').addClass('select-all-selected').attr('data', 1);
                }
            } else {
                $('.select-all-btn').removeClass('select-all-selected').attr('data', 0);
                $(this).closest('.goods-msg').removeClass('select-item-selected');
                $(this).attr('data', 0);
            }
        });

        // 全选/全不选列表
        $('.select-all-btn').click(function() {
            if ($(this).attr('data') == 0) {
                $('.goods-msg').addClass('select-item-selected');
                $(this).addClass('select-all-selected').attr('data', 1);
            } else {
                $('.goods-msg').removeClass('select-item-selected');
                $(this).removeClass('select-all-selected').attr('data', 0);
            }
        });

        // 选择数量减少
        $('.reduce').click(function() {
            var currInput = $(this).closest('.select-num-content').find('.select-goods-num');
            var num = currInput.val();
            if (!isNaN(num) && parseInt(num) > 1) {
                currInput.val(parseInt(num) - 1);
            } else {
                currInput.val(1);
            }
        });

        // 选择数量增加
        $('.add').click(function() {
            var currInput = $(this).closest('.select-num-content').find('.select-goods-num');
            var num = currInput.val();
            if (!isNaN(num) && parseInt(num) >= 1) {
                currInput.val(parseInt(num) + 1);
            } else {
                currInput.val(1);
            }
        });
    </script>
</body>

</html>